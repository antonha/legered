<div>
  <keypress></keypress>
  <div class="row listing" ui-keydown="{'enter':'keyPress($event)'}">
    <div id="{{'item-' + $index}}"
         class="row item"
         ng-repeat="item in listing"
         ng-click="setSelectedIndex($index)"
         ng-class="{selected: $index==selectedIndex}">
      <div class="title row">
        <div class="thumbnail small-1 columns">
          <img width="100%" src="{{item.thumbnail}}"/>
        </div>
        <div class="small-11 columns">
          <div class="row">
          <span>
            <a href="{{item.link}}">
              {{item.title}}
            </a>
          </span>
          </div>
          <div class="row">
            <postedpath path="item.postedIn"></postedpath>
          </div>
        </div>
      </div>
      <div class="content row" ng-show="$index == selectedIndex">
          <div ng-show="item.content.imgs">
            <div class="small-12 large-offset-1 large-10 columns">
            <div class="row" ng-repeat="img in item.content.imgs"  >
              <img src="{{img.url}}"/>
            </div>
            </div>
          </div>
          <div ng-show="item.content.youtube">
            <div class="small-12 large-offset-1 large-10 columns" >
              <div class="flex-video">
                <iframe width="420" height="315"
                        src="{{item.content.youtube.url}}" frameborder="0" allowfullscreen>
                </iframe>
              </div>
            </div>
          </div>
      </div>
    </div>
  </div>
</div>
