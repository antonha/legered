<div>
  <keypress></keypress>
  <div class="listing" ui-keydown="{'enter':'keyPress($event)'}">
    <div id="{{'item-' + $index}}"
         class="item"
         ng-repeat="item in listing"
         ng-click="setSelectedIndex($index)"
         ng-class="{selected: $index==selectedIndex}">
      <div class="title row">
        <div class="thumbnail  small-1 columns">
          <img width="100%" src="{{item.thumbnail}}"/>
        </div>
        <div class="small-11 columns">
          <span>
            <a href="{{item.link}}">
              {{item.title}}
            </a>
          </span>
        </div>
      </div>
      <div class="content row" ng-show="$index == selectedIndex">
        <div ng-switch on="item.type" class="{{item.type}}">
          <div ng-switch-when="imgs">
            <div class="small-12 large-offset-1 large-10 columns" ng-repeat="img in item.imgs  ">
              <img src="{{img.url}}"/>
            </div>
          </div>
          <div ng-switch-when="youtube">
            <div class="small-12 large-offset-1 large-10 columns" >
              <div class="flex-video">
                <iframe width="420" height="315"
                        src="{{item.youtube.url}}" frameborder="0" allowfullscreen>
                </iframe>
              </div>
            </div>
          </div>
          <div ng-switch-default/>
        </div>
      </div>
    </div>
  </div>
</div>
